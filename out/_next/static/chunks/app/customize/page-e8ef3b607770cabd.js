(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{790:function(e,t,r){Promise.resolve().then(r.bind(r,1720))},1720:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(7437),n=r(2265),o=r(6463),l=r(7818),i=r(3478),a=r(7138);let c=(0,l.default)(()=>Promise.all([r.e(689),r.e(386),r.e(644)]).then(r.bind(r,5644)),{loadableGenerated:{webpack:()=>[5644]},ssr:!1});function d(){let e=(0,o.useSearchParams)(),t=e.get("modelUrl"),r=e.get("model");e.get("modelId"),e.get("modelName");let l=e.get("modelConfig"),d=l?JSON.parse(decodeURIComponent(l)):null,[h]=(0,n.useState)(t||r||"/models/FemaleHoodie/female_cloth1.glb"),[x,u]=(0,n.useState)("original"),[m]=(0,n.useState)(d),[p,b]=(0,n.useState)([]),[w,g]=(0,n.useState)(null),[v,f]=(0,n.useState)(null),[j,k]=(0,n.useState)(!1),[N,C]=(0,n.useState)(2),[y,M]=(0,n.useState)(!1),[B,L]=(0,n.useState)("none"),[S,A]=(0,n.useState)(2),[F,R]=(0,n.useState)(!1),[z,E]=(0,n.useState)(!0),[W,D]=(0,n.useState)("#212121"),[I,_]=(0,n.useState)(null),X=(0,n.useRef)(null),Y=(0,n.useRef)(null),H=(0,n.useRef)(null),P=(0,n.useRef)(null),U=(0,n.useRef)(null),[V,O]=(0,n.useState)(!1),G=(0,n.useRef)(null),[T,J]=(0,n.useState)(!1),Z=(0,n.useRef)(null),[q,K]=(0,n.useState)(!1),Q=(0,n.useRef)(null),[$,ee]=(0,n.useState)(!1),et=(0,n.useRef)(null),er=e=>{let t=new Image;t.onload=()=>{let r=t.width&&t.height?t.width/t.height:1,s={id:Math.random().toString(36).slice(2,9),src:e,uvX:.5,uvY:.5,scale:.15,width:100,height:Math.round(100/r),rotation:0,aspectRatio:r,zIndex:p.length,crop:{x:0,y:0,width:100,height:100}};b(e=>{let t=[...e,s];return g(t.length-1),t})},t.onerror=()=>{console.warn("Failed to read uploaded image")},t.src=e},es=e=>"touches"in e&&e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:"clientX"in e?{x:e.clientX,y:e.clientY}:null;(0,n.useEffect)(()=>{let e=e=>{let t=es(e);if(!t)return;let r=P.current;if(!r)return;let s=r.getBoundingClientRect();if(V&&G.current&&null!==w){let e=G.current;b(r=>{let n=r[w];if(!n||!e)return r;let o=t.x-e.x,l=t.y-e.y,i=n.uvX*s.width,a=(1-n.uvY)*s.height,c=i+o,d=a+l;c=Math.max(0,Math.min(s.width,c)),d=Math.max(0,Math.min(s.height,d));let h=c/s.width,x=1-d/s.height,u=[...r];return u[w]={...u[w],uvX:h,uvY:x},u}),G.current={x:t.x,y:t.y};return}if(T&&Z.current){let e=Z.current,r=Math.max(t.x-e.x,t.y-e.y);b(t=>t.map(t=>{if(t.id!==e.id)return t;let n=Math.max(24,Math.round(e.width+r)),o=Math.max(24,Math.round(e.height+r/t.aspectRatio)),l=Math.max(s.width,s.height);return{...t,width:n,height:o,scale:Math.min(.5,Math.max(.05,n/l))}}));return}if(q&&Q.current){let e=Q.current;b(r=>{let n=r[e.index];if(!n)return r;let o=n.uvX*s.width+s.left,l=(1-n.uvY)*s.height+s.top,i=180/Math.PI*Math.atan2(t.y-l,t.x-o)-e.pointerAngle,a=(e.startAngle+i)%360;return r.map((t,r)=>r===e.index?{...t,rotation:a}:t)});return}},t=()=>{O(!1),G.current=null,J(!1),Z.current=null,K(!1),Q.current=null,ee(!1),et.current=null};return(V||T||q)&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchend",t),window.addEventListener("touchcancel",t)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",e),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t)}},[V,T,q,w]);let en=(e,t)=>{e.stopPropagation();let r=es(e);r&&(g(t),O(!0),G.current={x:r.x,y:r.y})},eo=(e,t)=>{e.stopPropagation();let r=es(e);if(!r)return;let s=p.find(e=>e.id===t);s&&(J(!0),Z.current={id:t,x:r.x,y:r.y,width:s.width,height:s.height})},el=(e,t)=>{e.stopPropagation();let r=es(e);if(!r)return;let s=P.current;if(!s)return;let n=s.getBoundingClientRect(),o=p[t],l=o.uvX*n.width+n.left,i=(1-o.uvY)*n.height+n.top,a=Math.atan2(r.y-i,r.x-l);Q.current={index:t,startAngle:o.rotation||0,pointerAngle:180/Math.PI*a},K(!0),g(t)},ei=()=>{null!==w&&(b(e=>{let t=[...e],[r]=t.splice(w,1);return t.push(r),t.map((e,t)=>({...e,zIndex:t}))}),g(e=>null!==e&&p.length>0?p.length-1:null))},ea=()=>{null!==w&&(b(e=>{let t=[...e],[r]=t.splice(w,1);return t.unshift(r),t.map((e,t)=>({...e,zIndex:t}))}),g(0))},ec=(e,t)=>{if(e.stopPropagation(),null===w)return;let r=p[w];r&&(ee(!0),et.current={handle:t,startX:e.clientX,startY:e.clientY,crop:r.crop?{...r.crop}:{x:0,y:0,width:100,height:100}})};(0,n.useEffect)(()=>{if(!$||!et.current||null===w)return;let e=U.current;if(!e)return;let t=t=>{let r=e.getBoundingClientRect(),s=(t.clientX-et.current.startX)/r.width*100,n=(t.clientY-et.current.startY)/r.height*100,o={...et.current.crop},l=et.current.handle||"se";l.includes("n")&&(o.y=Math.max(0,Math.min(et.current.crop.y+n,et.current.crop.y+et.current.crop.height-5)),o.height=et.current.crop.height-(o.y-et.current.crop.y)),l.includes("s")&&(o.height=Math.max(5,Math.min(100-et.current.crop.y,et.current.crop.height+n))),l.includes("w")&&(o.x=Math.max(0,Math.min(et.current.crop.x+s,et.current.crop.x+et.current.crop.width-5)),o.width=et.current.crop.width-(o.x-et.current.crop.x)),l.includes("e")&&(o.width=Math.max(5,Math.min(100-et.current.crop.x,et.current.crop.width+s))),b(e=>e.map((e,t)=>t===w?{...e,crop:o}:e))},r=()=>{ee(!1),et.current=null,ed(w)};return window.addEventListener("mousemove",t),window.addEventListener("mouseup",r),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",r)}},[$,w,U.current]);let ed=e=>{let t=p[e];if(!t||!t.crop)return;let r=t.crop;if(0===r.x&&0===r.y&&100===r.width&&100===r.height)return;let s=new Image;s.crossOrigin="anonymous",s.onload=()=>{let t=r.x/100*s.width,n=r.y/100*s.height,o=r.width/100*s.width,l=r.height/100*s.height,i=document.createElement("canvas");i.width=o,i.height=l;let a=i.getContext("2d");if(!a)return;a.drawImage(s,t,n,o,l,0,0,o,l);let c=i.toDataURL();b(t=>t.map((t,r)=>r===e?{...t,src:c,aspectRatio:o/l||t.aspectRatio,width:Math.round(t.width),height:Math.round(t.width/(o/l||t.aspectRatio)),crop:{x:0,y:0,width:100,height:100}}:t))},s.onerror=()=>console.warn("Crop image load failed"),s.src=t.src},eh=p.map(e=>({src:e.src,uvX:e.uvX,uvY:e.uvY,scale:e.scale,rotation:e.rotation,aspectRatio:e.aspectRatio})),ex=e=>{if(null===w||!P.current)return;let t=5/P.current.getBoundingClientRect().width;b(r=>r.map((r,s)=>{if(s!==w)return r;let n=r.uvX,o=r.uvY;return"left"===e&&(n=Math.max(0,r.uvX-t)),"right"===e&&(n=Math.min(1,r.uvX+t)),"up"===e&&(o=Math.min(1,r.uvY+t)),"down"===e&&(o=Math.max(0,r.uvY-t)),{...r,uvX:n,uvY:o}}))},eu=e=>{if(null===w||!P.current)return;let t=P.current.getBoundingClientRect();b(r=>r.map((r,s)=>{if(s!==w)return r;let n=r.scale;"up"===e&&(n=Math.min(.5,r.scale+.02)),"down"===e&&(n=Math.max(.05,r.scale-.02)),"reset"===e&&(n=.15);let o=Math.round(n*Math.max(t.width,t.height)),l=Math.round(o/r.aspectRatio);return{...r,scale:n,width:o,height:l}}))},em=e=>{if(null===w)return;let t="left"===e?-15:15;b(e=>e.map((e,r)=>r===w?{...e,rotation:(e.rotation+t)%360}:e))},ep=e=>{null!==w&&b(e=>e.map((e,t)=>t!==w?e:{...e,rotation:(e.rotation+180)%360}))};return(0,s.jsxs)("div",{className:"relative h-screen w-screen overflow-hidden font-sans",onContextMenu:e=>e.preventDefault(),children:[(0,s.jsxs)(a.default,{href:"/",className:"absolute top-3 left-3 md:top-5 md:left-5 z-50 px-3 py-2 md:px-4 md:py-2 bg-slate-800/90 text-white rounded-lg md:rounded-xl hover:bg-slate-700 transition-all flex items-center gap-1 md:gap-2 text-sm md:text-base",children:[(0,s.jsx)("svg",{className:"w-4 h-4 md:w-5 md:h-5",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M10 19l-7-7m0 0l7-7m-7 7h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Back to Gallery"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Back"})]}),(0,s.jsx)("input",{ref:Y,type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t=new FileReader;t.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof r&&er(r)},t.readAsDataURL(e)})},className:"hidden"}),p.length>0&&z&&(0,s.jsxs)("div",{ref:P,className:"absolute bottom-[140px] sm:bottom-[155px] left-1/2 -translate-x-1/2 w-[280px] h-[280px] sm:w-[320px] sm:h-[320px] md:w-[360px] md:h-[360px] border-2 border-dashed border-white/30 rounded-xl z-40 bg-black/10",onMouseDown:e=>e.stopPropagation(),onDoubleClick:()=>g(null),onClick:e=>{e.target===e.currentTarget&&g(null)},children:[(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-black/60 px-2 py-1 rounded text-white text-[10px] sm:text-xs z-30",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Frame Editor — drag images, resize, rotate"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Frame Editor"})]}),p.slice().sort((e,t)=>e.zIndex-t.zIndex).map(e=>{let t=p.findIndex(t=>t.id===e.id),r=w===t,n="".concat(100*e.uvX,"%"),o="".concat((1-e.uvY)*100,"%");return(0,s.jsxs)("div",{onMouseDown:e=>en(e,t),onTouchStart:e=>en(e,t),style:{position:"absolute",left:n,top:o,transform:"translate(-50%, -50%) rotate(".concat(e.rotation,"deg)"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),zIndex:e.zIndex,touchAction:"none"},className:"select-none ".concat(r?"outline-2 outline-[#B0A3F0]":""),children:[(0,s.jsx)("img",{src:e.src,alt:"",draggable:!1,style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}}),(0,s.jsx)("div",{onMouseDown:e=>el(e,t),onTouchStart:e=>el(e,t),title:"Rotate",style:{position:"absolute",right:-12,top:-12,width:24,height:24,background:"#B0A3F0",borderRadius:999,display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",transform:"rotate(".concat(-e.rotation,"deg)")},children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M4 4v4h4M20 20v-4h-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("div",{onMouseDown:t=>eo(t,e.id),onTouchStart:t=>eo(t,e.id),title:"Resize",style:{position:"absolute",right:-8,bottom:-8,width:18,height:18,background:"#fff",borderRadius:4,cursor:"nwse-resize",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.3)"},children:(0,s.jsx)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M20 20L4 4M14 20l6-6M20 14l-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),r&&(0,s.jsx)("div",{style:{position:"absolute",inset:0,border:"2px dashed rgba(176,163,240,0.9)",pointerEvents:"none"}})]},e.id)}),null!==w&&(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-0.5 sm:gap-1 z-50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-0.5 mb-0.5 sm:mb-1",children:[(0,s.jsx)("div",{}),(0,s.jsx)("button",{title:"Move Up",onClick:()=>ex("up"),className:"w-6 h-6 sm:w-7 sm:h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2",viewBox:"0 0 448 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})})}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{title:"Move Left",onClick:()=>ex("left"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 448 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"})})}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{title:"Move Right",onClick:()=>ex("right"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 448 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"})})}),(0,s.jsx)("div",{}),(0,s.jsx)("button",{title:"Move Down",onClick:()=>ex("down"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 448 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"})})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-0.5",children:[(0,s.jsx)("button",{title:"Scale Down",onClick:()=>eu("down"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 512 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"})})}),(0,s.jsx)("button",{title:"Scale Up",onClick:()=>eu("up"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 512 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"})})}),(0,s.jsx)("button",{title:"Reset Position & Size",onClick:()=>{if(null===w||!P.current)return;let e=P.current.getBoundingClientRect();b(t=>t.map((t,r)=>{if(r!==w)return t;let s=Math.round(.15*Math.max(e.width,e.height)),n=Math.round(s/t.aspectRatio);return{...t,uvX:.5,uvY:.5,scale:.15,width:s,height:n,rotation:0}}))},className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 512 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"})})}),(0,s.jsx)("button",{title:"Rotate Left",onClick:()=>em("left"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50 text-xs",children:"↺"}),(0,s.jsx)("button",{title:"Rotate Right",onClick:()=>em("right"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50 text-xs",children:"↻"}),(0,s.jsx)("button",{title:"Flip Horizontal",onClick:()=>ep("horizontal"),className:"w-7 h-7 bg-black/80 backdrop-blur-sm border border-white/30 rounded-md text-white cursor-pointer flex items-center justify-center transition-all hover:bg-black/90 hover:border-white/50",children:(0,s.jsx)("svg",{className:"w-2 h-2",viewBox:"0 0 512 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"})})})]})]}),(0,s.jsxs)("div",{className:"absolute bottom-2 left-2 right-2 flex gap-1.5 sm:gap-2 p-1.5 sm:p-2 rounded bg-black/60",children:[(0,s.jsx)("div",{onClick:()=>{var e;return null===(e=Y.current)||void 0===e?void 0:e.click()},className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 rounded border-2 border-dashed border-[#B0A3F0] cursor-pointer flex-shrink-0",children:(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#B0A3F0]",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M12 4v16m8-8H4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("div",{className:"flex gap-1.5 sm:gap-2 overflow-x-auto flex-1",children:p.map((e,t)=>{let r=w===t;return(0,s.jsxs)("div",{className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded overflow-hidden flex-shrink-0 ".concat(r?"ring-2 ring-[#B0A3F0]":"border"),children:[(0,s.jsx)("img",{ref:r?U:null,src:e.src,alt:"",className:"w-full h-full object-cover cursor-pointer",onClick:()=>g(t),draggable:!1}),(0,s.jsx)("button",{title:"Remove",onClick:e=>{e.stopPropagation();let r=p[t].id;b(e=>e.filter(e=>e.id!==r).map((e,t)=>({...e,zIndex:t}))),g(null)},className:"absolute top-1 right-1 w-5 h-5 bg-red-600 hover:bg-red-700 text-white rounded-full flex items-center justify-center text-xs transition-all shadow-md",children:"✕"}),r&&(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex gap-1 p-1 bg-black/60",children:[(0,s.jsx)("button",{title:"Bring Forward",onClick:ei,className:"flex-1 bg-white/10 hover:bg-white/20 text-white p-1 rounded text-xs",children:"↑"}),(0,s.jsx)("button",{title:"Send Backward",onClick:ea,className:"flex-1 bg-white/10 hover:bg-white/20 text-white p-1 rounded text-xs",children:"↓"}),(0,s.jsx)("button",{title:"Crop",onMouseDown:e=>ec(e,"se"),className:"flex-1 bg-white/10 hover:bg-white/20 text-white p-1 rounded text-xs",children:"✂"})]})]},e.id)})})]})]}),(0,s.jsx)("div",{ref:X,className:"w-full h-full",style:{pointerEvents:"auto",touchAction:"none"},children:(0,s.jsx)(c,{modelPath:h,modelColor:x,stickers:eh,autoRotate:j,rotationSpeed:N,rotateBackground:y,backgroundColor:W,environmentBg:I,animation:B,animationSpeed:S,animateBackground:F,modelConfig:m,onModelLoad:()=>{}})}),(0,s.jsxs)("div",{className:"absolute top-3 right-3 md:top-5 md:right-5 flex gap-2 md:gap-3 z-50",children:[(0,s.jsxs)("button",{title:"Save project",onClick:()=>{let e={modelPath:h,modelColor:x,stickers:p,timestamp:Date.now()};localStorage.setItem("3d-mockup-project",JSON.stringify(e)),alert("Project saved!")},className:"p-2 md:p-3.5 bg-[#B0A3F0] text-white rounded-lg md:rounded-xl text-sm md:text-base",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Save"}),(0,s.jsx)("span",{className:"sm:hidden",children:"\uD83D\uDCBE"})]}),(0,s.jsxs)("button",{title:"Screenshot",onClick:()=>{let e=X.current;if(!e)return;let t=e.querySelector("canvas");if(!t)return;let r=document.createElement("a");r.download="3d-mockup-".concat(Date.now(),".png"),r.href=t.toDataURL("image/png"),r.click()},className:"p-2 md:p-3.5 bg-[rgba(34,34,34,0.5)] text-white rounded-lg md:rounded-xl text-sm md:text-base",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Shot"}),(0,s.jsx)("span",{className:"sm:hidden",children:"\uD83D\uDCF7"})]})]}),(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-[#222222] backdrop-blur-[20px] p-3 sm:p-4 md:p-5 pb-[calc(0.75rem+env(safe-area-inset-bottom))] sm:pb-4 md:pb-5 flex justify-start sm:justify-center items-center gap-2 sm:gap-2.5 overflow-x-auto z-[100] scrollbar-thin scrollbar-thumb-[#B0A3F0]/50 scrollbar-track-transparent shadow-[0_-2px_10px_rgba(0,0,0,0.3)]",children:[p.length>0&&(0,s.jsxs)("button",{onClick:()=>E(!z),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[60px] sm:min-w-[70px] transition-all flex-shrink-0 ".concat(z?"bg-[#B0A3F0] text-white":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:[z?(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mb-0.5 sm:mb-1",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M19 9l-7 7-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,s.jsx)("svg",{className:"w-6 h-6 mb-1",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M5 15l7-7 7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:z?"Hide":"Frame"})]}),(0,s.jsxs)("button",{onClick:()=>f("color"===v?null:"color"),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[60px] sm:min-w-[70px] transition-all flex-shrink-0 ".concat("color"===v?"bg-[#B0A3F0] text-white":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:[(0,s.jsxs)("svg",{className:"w-6 h-6 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:"Color"})]}),(0,s.jsxs)("button",{onClick:()=>f("edit"===v?null:"edit"),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[60px] sm:min-w-[70px] transition-all flex-shrink-0 ".concat("edit"===v?"bg-[#B0A3F0] text-white":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:[(0,s.jsxs)("svg",{className:"w-6 h-6 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M18.5 2.50001C18.8978 2.10219 19.4374 1.87869 20 1.87869C20.5626 1.87869 21.1022 2.10219 21.5 2.50001C21.8978 2.89784 22.1213 3.4374 22.1213 4.00001C22.1213 4.56262 21.8978 5.10219 21.5 5.50001L12 15L8 16L9 12L18.5 2.50001Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:"Edit"})]}),(0,s.jsxs)("button",{onClick:()=>f("background"===v?null:"background"),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[70px] sm:min-w-[90px] transition-all flex-shrink-0 ".concat("background"===v?"bg-[#B0A3F0] text-white":"bg-[#B0A3F0] text-white/90 hover:text-white"," shadow-[0_4px_15px_rgba(98,93,245,0.3)]"),children:[(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mb-1 sm:mb-2",viewBox:"0 0 512 512",fill:"currentColor",children:(0,s.jsx)("path",{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"})}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:"Background"})]}),(0,s.jsxs)("button",{onClick:()=>f("view"===v?null:"view"),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[70px] sm:min-w-[90px] transition-all flex-shrink-0 ".concat("none"!==B?"bg-[#B0A3F0] text-white":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:[(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 mb-1",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:"Animation"})]}),(0,s.jsxs)("button",{onClick:()=>f("hdr"===v?null:"hdr"),className:"flex flex-col items-center py-3 px-3.5 sm:py-4 sm:px-5 rounded-lg sm:rounded-xl min-w-[60px] sm:min-w-[70px] transition-all flex-shrink-0 ".concat("hdr"===v?"bg-[#B0A3F0] text-white":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white"),children:[(0,s.jsxs)("svg",{className:"w-6 h-6 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72 1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),(0,s.jsx)("span",{className:"text-[10px] sm:text-xs",children:"HDR"})]})]}),"color"===v&&(0,s.jsx)("div",{className:"absolute bottom-[100px] sm:bottom-[120px] md:bottom-[155px] left-1/2 -translate-x-1/2 bg-[#222222] p-3 rounded-lg z-40 border border-white/10 max-w-[90vw]",children:(0,s.jsxs)("div",{className:"w-[180px] sm:w-[200px]",children:[(0,s.jsx)(i.gW,{color:x,onChange:e=>u(e)}),(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("div",{style:{background:x},className:"w-8 h-8 border"}),(0,s.jsx)("button",{onClick:()=>u("reset"),className:"px-3 py-1 bg-white/8 rounded",children:"Reset"})]})]})}),"edit"===v&&(0,s.jsx)("div",{className:"absolute bottom-[100px] sm:bottom-[120px] md:bottom-[155px] left-1/2 -translate-x-1/2 bg-[#222222] p-3 sm:p-4 rounded-lg sm:rounded-xl z-40 border border-white/10 max-w-[90vw]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,s.jsx)("h3",{className:"text-white text-xs sm:text-sm font-medium",children:"Add Images"}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=Y.current)||void 0===e?void 0:e.click()},className:"flex flex-col items-center justify-center w-24 h-24 sm:w-32 sm:h-32 rounded-lg sm:rounded-xl border-2 border-dashed border-[#B0A3F0] hover:border-[#9d8ee6] hover:bg-white/5 cursor-pointer transition-all",children:[(0,s.jsx)("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-[#B0A3F0] mb-1 sm:mb-2",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M12 4v16m8-8H4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("span",{className:"text-white/70 text-xs",children:"Upload Image"})]}),(0,s.jsx)("p",{className:"text-white/50 text-xs text-center max-w-[180px]",children:"Click to upload one or more images to apply on the model"})]})}),"background"===v&&(0,s.jsx)("div",{className:"absolute bottom-[100px] sm:bottom-[120px] md:bottom-[155px] left-1/2 -translate-x-1/2 bg-[#222222] p-3 sm:p-4 rounded-lg sm:rounded-xl z-40 border border-white/10 max-w-[90vw]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,s.jsx)("h3",{className:"text-white text-xs sm:text-sm font-medium",children:"Background Color"}),(0,s.jsxs)("div",{className:"w-[180px] sm:w-[200px]",children:[(0,s.jsx)(i.gW,{color:W,onChange:e=>D(e)}),(0,s.jsx)("div",{className:"mt-3 grid grid-cols-6 gap-2",children:["#212121","#ffffff","#1a1a2e","#16213e","#0f3460","#533483","#7209b7","#f72585"].map(e=>(0,s.jsx)("button",{onClick:()=>D(e),className:"w-8 h-8 rounded-md border-2 transition-all ".concat(W===e?"border-[#B0A3F0] scale-110":"border-white/20"),style:{backgroundColor:e},title:e},e))}),(0,s.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,s.jsx)("div",{style:{background:W},className:"w-10 h-10 border rounded-md"}),(0,s.jsx)("span",{className:"text-white/70 text-xs",children:W})]})]})]})}),"view"===v&&(0,s.jsx)("div",{className:"absolute bottom-[100px] sm:bottom-[120px] md:bottom-[155px] left-1/2 -translate-x-1/2 bg-[#222222] p-4 sm:p-5 rounded-lg sm:rounded-xl z-40 border border-white/10 max-w-[90vw]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[(0,s.jsx)("h3",{className:"text-white text-sm sm:text-base font-medium",children:"Model Animations"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[(0,s.jsxs)("button",{onClick:()=>L("none"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("none"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsxs)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M4.93 4.93l14.14 14.14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),(0,s.jsx)("span",{className:"text-xs",children:"None"})]}),(0,s.jsxs)("button",{onClick:()=>L("pulse"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("pulse"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsxs)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"7",stroke:"currentColor",strokeWidth:"2",opacity:"0.5"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Pulse"})]}),(0,s.jsxs)("button",{onClick:()=>L("bounce"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("bounce"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsxs)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("circle",{cx:"12",cy:"18",r:"3",fill:"currentColor"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",opacity:"0.5"}),(0,s.jsx)("circle",{cx:"12",cy:"7",r:"1.5",fill:"currentColor",opacity:"0.3"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Bounce"})]}),(0,s.jsxs)("button",{onClick:()=>L("shake"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("shake"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsx)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M8 12h8M6 8h12M6 16h12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,s.jsx)("span",{className:"text-xs",children:"Shake"})]}),(0,s.jsxs)("button",{onClick:()=>L("swing"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("swing"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsx)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M12 2v6M12 16v6M5.64 5.64l4.24 4.24M14.12 14.12l4.24 4.24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),(0,s.jsx)("span",{className:"text-xs",children:"Swing"})]}),(0,s.jsxs)("button",{onClick:()=>L("spin"),className:"flex flex-col items-center p-3 sm:p-4 rounded-lg transition-all ".concat("spin"===B?"bg-[#B0A3F0] text-white border-2 border-[#B0A3F0]":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border-2 border-transparent"),children:[(0,s.jsxs)("svg",{className:"w-8 h-8 mb-1",viewBox:"0 0 24 24",fill:"none",children:[(0,s.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2"})]}),(0,s.jsx)("span",{className:"text-xs",children:"Spin"})]})]}),"none"!==B&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"h-px bg-white/10 w-full my-1"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 w-full",children:[(0,s.jsx)("h4",{className:"text-white text-sm font-medium",children:"Animation Speed"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>A(Math.max(.5,S-.5)),className:"w-8 h-8 bg-white/10 hover:bg-white/20 text-white rounded-lg flex items-center justify-center transition-all",children:"−"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("input",{type:"range",min:"0.5",max:"10",step:"0.5",value:S,onChange:e=>A(parseFloat(e.target.value)),className:"w-32"}),(0,s.jsxs)("span",{className:"text-white/70 text-xs",children:[S.toFixed(1),"x"]})]}),(0,s.jsx)("button",{onClick:()=>A(Math.min(10,S+.5)),className:"w-8 h-8 bg-white/10 hover:bg-white/20 text-white rounded-lg flex items-center justify-center transition-all",children:"+"})]}),(0,s.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10 w-full",children:(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group justify-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:F,onChange:e=>R(e.target.checked),className:"w-4 h-4 rounded border-white/30 bg-white/10 text-[#B0A3F0] focus:ring-2 focus:ring-[#B0A3F0] focus:ring-offset-0 cursor-pointer"}),(0,s.jsx)("span",{className:"text-white/80 text-sm group-hover:text-white transition-colors",children:"Animate Background"})]})})]})]})]})}),"hdr"===v&&(0,s.jsxs)("div",{className:"absolute bottom-[100px] sm:bottom-[120px] md:bottom-[155px] left-1/2 -translate-x-1/2 bg-[#222222] backdrop-blur-[20px] p-3 sm:p-4 md:p-5 rounded-xl sm:rounded-2xl border border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.3)] z-40 min-w-[280px] sm:min-w-[320px] max-w-[92vw]",children:[(0,s.jsx)("div",{className:"mb-2 sm:mb-3 text-white text-sm sm:text-base font-bold text-center",children:"Environment Library"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2.5 max-h-[180px] sm:max-h-[220px] overflow-y-auto mb-2.5 sm:mb-3.5",children:[(0,s.jsx)("button",{title:"None",onClick:()=>_(null),className:"rounded-xl p-0 overflow-hidden transition-all ".concat(null===I?"border-2 border-[#B0A3F0] bg-white/[0.04]":"border border-white/15 bg-white/[0.04] hover:border-white/30"),children:(0,s.jsx)("div",{className:"h-[50px] sm:h-[68px] flex items-center justify-center text-white text-[10px] sm:text-xs",children:"None"})}),[{name:"Space",url:"/backgrounds/space.jpg"},{name:"Sky",url:"/backgrounds/sky.jpg"},{name:"Sunset",url:"/backgrounds/sunset.jpg"},{name:"Ocean",url:"/backgrounds/ocean.jpg"}].map(e=>(0,s.jsxs)("button",{title:e.name,onClick:()=>_(e.url),className:"rounded-xl p-0 overflow-hidden transition-all ".concat(I===e.url?"border-2 border-[#B0A3F0] bg-white/[0.04]":"border border-white/15 bg-white/[0.04] hover:border-white/30"),children:[(0,s.jsx)("div",{className:"w-full h-[50px] sm:h-[68px] overflow-hidden",children:(0,s.jsx)("img",{alt:e.name,crossOrigin:"anonymous",src:e.url,className:"w-full h-full object-cover block"})}),(0,s.jsx)("div",{className:"px-2 py-1.5 text-white text-xs text-center whitespace-nowrap overflow-hidden text-ellipsis",children:e.name})]},e.name))]}),(0,s.jsx)("div",{className:"h-px bg-white/8 my-3"}),(0,s.jsx)("input",{ref:H,accept:"image/*,.hdr,.exr",type:"file",onChange:e=>{let t=e.target.files;if(!t||0===t.length)return;let r=t[0],s=new FileReader;s.onload=e=>{var t;let r=null===(t=e.target)||void 0===t?void 0:t.result;"string"==typeof r&&_(r)},s.readAsDataURL(r),e.target.value=""},className:"hidden"}),(0,s.jsxs)("button",{title:"Upload custom 360\xb0 image",onClick:()=>{var e;return null===(e=H.current)||void 0===e?void 0:e.click()},className:"w-full px-3 py-3 text-sm font-bold bg-gradient-to-br from-[#B0A3F0] to-[#B0A3F0] text-white border-none rounded-xl cursor-pointer flex items-center justify-center gap-2 shadow-[0_4px_15px_rgba(98,93,245,0.3)] hover:shadow-[0_6px_20px_rgba(98,93,245,0.4)] transition-all",children:[(0,s.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload 360\xb0 Image"]}),(0,s.jsx)("div",{className:"mt-2 text-[#b0b0b0] text-xs text-center",children:"Supports HDR, EXR, JPG, PNG"})]})]})}function h(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"h-screen w-screen flex items-center justify-center",children:"Loading..."}),children:(0,s.jsx)(d,{})})}}},function(e){e.O(0,[467,971,23,744],function(){return e(e.s=790)}),_N_E=e.O()}]);