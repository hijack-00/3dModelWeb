(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3457:function(e,t,r){Promise.resolve().then(r.bind(r,1597))},1597:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),o=r(6463),n=r(2265);let l=r(357).env.NEXT_PUBLIC_API_URL||"https://threedmockupbackend.onrender.com/api";async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{let r="".concat(l,"/models?page=").concat(e,"&limit=").concat(t);console.log("Fetching models from:",r);let s=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors"});if(console.log("Response status:",s.status),!s.ok){let e=await s.text();throw console.error("API Error Response:",e),Error("API Error: ".concat(s.status," ").concat(s.statusText))}let o=await s.json();return console.log("Models fetched successfully:",o.data.models.length,"models"),o}catch(e){if(console.error("Failed to fetch models:",e),e instanceof Error)throw Error("Failed to fetch models: ".concat(e.message));throw e}}function i(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)([]),[l,i]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{u()},[]);let u=async()=>{try{i(!0),d(null);let e=await a(1,50);"success"===e.status&&e.data.models&&r(e.data.models)}catch(e){d("Failed to load models. Please try again later."),console.error("Error loading models:",e)}finally{i(!1)}},m=t=>{let r=t.modelConfig?"&modelConfig=".concat(encodeURIComponent(JSON.stringify(t.modelConfig))):"";e.push("/customize?modelUrl=".concat(encodeURIComponent(t.fileUrl),"&modelId=").concat(t._id,"&modelName=").concat(encodeURIComponent(t.name)).concat(r))};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:[(0,s.jsx)("header",{className:"border-b border-slate-800/50 backdrop-blur-xl bg-slate-900/50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Free 3D Mockups"}),(0,s.jsx)("p",{className:"text-slate-400 mt-1 sm:mt-2 text-sm sm:text-base",children:"Select a model to customize"})]})}),(0,s.jsxs)("main",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12",children:[l&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mb-4"}),(0,s.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading models from API..."})]}),c&&!l&&(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-6 max-w-md",children:[(0,s.jsx)("h3",{className:"text-red-400 text-xl font-bold mb-2",children:"Error Loading Models"}),(0,s.jsx)("p",{className:"text-red-300 mb-4",children:c}),(0,s.jsx)("button",{onClick:u,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all",children:"Retry"})]})}),!l&&!c&&t.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8 max-w-6xl mx-auto",children:t.map(e=>(0,s.jsxs)("div",{onClick:()=>m(e),className:"group relative bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-xl sm:rounded-2xl overflow-hidden cursor-pointer transition-all hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 border border-slate-700/50 backdrop-blur-xl",children:[(0,s.jsxs)("div",{className:"relative w-full aspect-square bg-slate-800/50",children:[e.thumbnailUrl?(0,s.jsx)("img",{src:e.thumbnailUrl,alt:e.name,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-6xl",children:"\uD83C\uDFA8"}),e.isPremium&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500/90 text-yellow-900 px-2 py-1 rounded-lg text-xs font-bold",children:"PREMIUM"}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2 bg-purple-500/90 text-white px-2 py-1 rounded-lg text-xs font-medium",children:e.category.name})]}),(0,s.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-blue-400 group-hover:to-purple-500 group-hover:bg-clip-text transition-all",children:e.name}),(0,s.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-3",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.viewCount]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),e.downloadCount]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-slate-300 group-hover:text-white transition-colors",children:[(0,s.jsxs)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium",children:"Click to Customize"})]})]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-0 group-hover:opacity-100 transition-opacity -z-10 blur-xl"})]},e._id))}),!l&&!c&&0===t.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[(0,s.jsx)("p",{className:"text-slate-400 text-lg mb-4",children:"No models found"}),(0,s.jsx)("button",{onClick:u,className:"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-all",children:"Refresh"})]}),!l&&!c&&t.length>0&&(0,s.jsx)("div",{className:"mt-12 sm:mt-16 text-center",children:(0,s.jsxs)("p",{className:"text-slate-500 text-xs sm:text-sm",children:["Found ",t.length," model",1!==t.length?"s":""," from API"]})})]})]})}},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},357:function(e,t,r){"use strict";var s,o;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8081)},8081:function(e){!function(){var t={229:function(e){var t,r,s,o=e.exports={};function n(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var i=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?i=s.concat(i):d=-1,i.length&&m())}function m(){if(!c){var e=a(u);c=!0;for(var t=i.length;t;){for(s=i,i=[];++d<t;)s&&s[d].run();d=-1,t=i.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new h(e,t)),1!==i.length||c||a(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function s(e){var o=r[e];if(void 0!==o)return o.exports;var n=r[e]={exports:{}},l=!0;try{t[e](n,n.exports,s),l=!1}finally{l&&delete r[e]}return n.exports}s.ab="//";var o=s(229);e.exports=o}()}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3457)}),_N_E=e.O()}]);